<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.bno2.mapper.ProjectMapper">

    <select id="selectProjects">
        SELECT
            p.pjtUid, p.project, p.pjtStart, p.pjtEnd, p.pjtState, u.name
        FROM
            project p, user u
        WHERE
            p.pn = u.pn
    </select>

    <insert id="insertProject">
        INSERT INTO
            project(project, pjtStart, pjtEnd, pjtState)
        VALUES
            (#{project},#{pjtStart},#{pjtEnd},#{pjtState})
    </insert>

    <update id="updateProject">
        UPDATE
            project
        SET
            project=#{project},
            pjtStart=#{pjtStart},
            pjtEnd=#{pjtEnd},
            pjtState=#{pjtState},
            pjtUpdate=current_timestamp
        WHERE
            pjtUid=#{pjtUid}
    </update>

</mapper>